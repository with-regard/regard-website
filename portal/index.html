<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Regard developer portal</title>
  <link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
  <script type="text/x-handlebars" data-template-name="application">
    <div class="off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">
        <nav class="tab-bar">
          <section class="left-small">
            <a class="left-off-canvas-toggle menu-icon" href="#"><span></span></a>
          </section>

          <section class="middle tab-bar-section">
            <h1 class="title">{{outlet title}}</h1>
          </section>
          
          <section class="right-large">
            <div class="right">
              <a href="/logout">{{name}}</a>
            </div>
          </section>
        </nav>

        <aside class="left-off-canvas-menu">
          {{outlet off-canvas}}
        </aside>

        <section class="main-section">
          {{outlet main}}
        </section>

        <a class="exit-off-canvas"></a>
      </div>
    </div>
  </script>
  
  <script type="text/x-handlebars" data-template-name="project" >
    {{#if isEditing}}
      {{input value=bufferedName focus-out="doneEditing" insert-newline="doneEditing" escape-press="cancelEditing"}}
    {{else}}
      <span {{action "editProjectName"}}>{{name}}</span>
    {{/if}}
  </script>

  <script type="text/x-handlebars" data-template-name="projects">
    <ul class="off-canvas-list">
      <li>
        <label>Projects <span class="label" {{action "createProject"}}>New</span></label>
      </li>
      {{#each itemController="Project"}}
        <li>
          {{#link-to 'project' this}}            
            {{name}}
            <span class="right" {{action "deleteProject"}}>&times;</span> 
          {{/link-to}}
        </li>
      {{else}}
        You don't have any projects
      {{/each}}
    </ul>
  </script>
  
  <script type="text/x-handlebars" id="investigations">
    <ul class="left-side-nav">
      <li class="heading">Investigations <span class="secondary label">New</span></li>
    {{#each investigations}}
      <li>
        {{#link-to 'investigation' this}}            
          {{name}}
        {{/link-to}}
      </li>  
    {{else}}
      <li class="muted">
        You haven't created any investigations yet.
      </li>
    {{/each}}
    </ul>  
      
    <div class="main-container">
      {{outlet}}
    </div>
  </script>
  
  <script type="text/x-handlebars" id="investigation">
    <div class="row full-width">
      <div class="medium-12 columns">
        <h2>{{name}}</h2>  
      </div>
    </div>  
  </script>
  
  <script type="text/x-handlebars" id="projects/error">
    <div class="row">
      <div class="medium-6 medium-centered columns text-center">
        <h3>Project not found</h3>
        <p>This project may be private. If someone gave you this link, they may need to invite you to the project.</p>
      </div>
    </div>
  </script>
  
  <script src="portal/libs/jquery-1.10.2.js"></script>
  <script src="portal/libs/handlebars-1.1.2.js"></script>
  <script src="portal/libs/ember.js"></script>
  <script src="portal/libs/ember-data.js"></script>
  
  <script src="portal/app.js"></script>
  <script src="portal/router.js"></script>
  
  <script src="portal/controllers/ProjectController.js"></script>
  <script src="portal/controllers/ProjectsController.js"></script>
  <script src="portal/controllers/InvestigationsController.js"></script>
  
  <script src="portal/models/ProjectModel.js"></script>
  <script src="portal/models/InvestigationModel.js"></script>
  <script src="portal/models/UserModel.js"></script>
  
  <script src="/assets/js/foundation.min.js"></script>
  <script src="/assets/js/main.js"></script>
</body>
</html>